# Сервис статистики (Statistics Service)

## Описание
Сервис статистики отвечает за сбор, хранение и анализ различных метрик взаимодействия пользователей с промо-предложениями. Сервис обрабатывает события просмотров, лайков и комментариев, предоставляя агрегированную статистику для бизнес-аккаунтов.

## Основные функции

### Сбор и обработка событий
- Получение событий просмотров промо-предложений через Message Broker
- Получение событий лайков через Message Broker
- Получение событий комментариев через Message Broker
- Агрегация и сохранение статистики в ClickHouse

### Предоставление статистики
- API для получения статистики по конкретному промо-предложению
- API для получения агрегированной статистики по бизнес-аккаунту
- Расчет трендов и аналитических показателей
- Фильтрация статистики по различным параметрам (временные периоды, типы взаимодействий)

### Метрики
- Количество просмотров
- Количество уникальных просмотров
- Количество лайков
- Количество комментариев
- Глубина вложенности комментариев
- Время просмотра промо-предложений

## Технологический стек
- База данных: ClickHouse (для эффективного хранения и анализа больших объемов событий)
- Message Broker: для получения событий от других сервисов
- REST API: для предоставления доступа к статистике
- Docker: для контейнеризации

## Интеграции
- Получение событий от сервиса промо-предложений через Message Broker
- Предоставление API для сервиса API Gateway

## Основные сущности
- Просмотры (Views)
- Лайки (Likes)
- Комментарии (Comments)

## Зона ответственности
- Сбор и хранение статистических данных
- Обработка событий взаимодействия пользователей
- Предоставление аналитической информации
- Расчет метрик эффективности промо-предложений
